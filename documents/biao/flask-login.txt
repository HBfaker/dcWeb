配置你的应用
login_manager = LoginManager()
login_manager.init_app(app)

你必须提供一个 user_loader 回调。这个回调用于从会话中存储的用户 ID 重新加载用户对象
@login_manager.user_loader
def load_user(user_id):
    return User.query.get(int(user_id))

默认情况下，当未登录的用户尝试访问一个 login_required 装饰的视图，Flask-Login 会闪现一条消息并且重定向到登录视图。

当重定向到登入视图，它的请求字符串中会有一个 next 变量，其值为用户之前访问的页面。