<!DOCTYPE html>
<html>
<head>
	<title>上传图片并立即预览</title>

	<style type="text/css">

	</style>
</head>
<body>
<form action="##">
<input id="coverImg" type="file" name="coverImg">  <!--一张封面图片-->
                    <!--<button style="position: absolute;left: 0;top: 0">上传封面图片</button>-->
<img class="preview" style="display: block;background-color: #eee;width: 100%;height: 200px">
</form>

</body>
	<script src="/static/js/jquery-2.1.0.min.js"></script>
      <script src="/static/js/bootstrap2/bootstrap2.3.0.js"></script>
  <script src="/static/js/jquery.prettyPhoto.js"></script>
  <script src="/static/js/hover/jquery-hover-effect.js"></script>
  <script src="/static/js/hover/setting.js"></script>
  <script src="/static/js/application.js"></script>
  <script src="/static/js/camera/camera.min.js"></script>
  <script src="/static/js/camera/setting.js"></script>
  <script src="/static/js/base.js"></script>
  <script src="/static/js/custom.js"></script>
<script type="text/javascript">
 $('#coverImg').change(function(){
      var files = this.files;
      var file = files[0];
      //这里我们判断下类型如果不是图片就返回 去掉就可以上传任意文件
      if(!/image\/\w+/.test(file.type)){
        alert("请确保文件为图像类型");
        return false;
      }

      var reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = function(e){
          console.log("chufa");
        var urlsrc = this.result;
        $('.preview').attr('src', urlsrc);
      }
  });
</script>

</html>